<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script>
<script>

var sendCode = function() {
  var phone = $("#phone").val();
  $.ajax({
    type: "POST",
    url: "/api/sms/send",
    data: {phone:phone},
    success: function(data) {
      if(data.sent === false) {
        alert("Error sending message.  Please try again later.")
      }
    }
  });
};

var verifyCode = function() {
 var phone = $("#phone").val();
 var code = $("#code").val();
  $.ajax({
    type: "POST",
    url: "/api/sms/verify",
    data: {phone:phone, code:code},
    success: function(data) {
      if(data.found === true) {
        console.log("Code found");
      } else {
        console.log("Code not found");
      }
    }
  });

};

</script>
</head>
<body>

  <h3>Verify your phone number</h3>
  <p>Enter your number and we'll text you a verification code.</p>
  Phone: <input type="text" id="phone" name="phone" /><br />
  <button onClick="sendCode()">Send code</button>
  <p>Enter code:</p>
  <input type="text" id="code" name="code" /><br />
  <button onClick="verifyCode()" type="submit">Verify</button>
</body>
</html>
